# Установить ограничение памяти для контейнера

[Подробнее здесь](https://itisgood.ru/2022/08/31/kak-ustanovit-ogranichenie-pamjati-dlja-kontejnerov-docker/)

[Память в Docker](https://docs.docker.com/config/containers/resource_constraints/)

[Лимиты в  Docker](https://www.baeldung.com/ops/docker-memory-limit)

[[Контейнеры Docker]] по умолчанию работают без каких-либо ограничений на ресурсы.

Процессы, запущенные в контейнерах, могут использовать неограниченный объем памяти, что потенциально может повлиять на соседние контейнеры и другие рабочие нагрузки на вашем хосте.

При запуске [[Контейнеры Docker|контейнера]] [[Docker]] можно установить жёсткое или мягкое ограничение на лимит выделяемой памяти. Они по-разному влияют на объем доступной памяти и поведение при достижении лимита.

-   **hard** **limit** памяти устанавливают абсолютный лимит памяти, предоставляемой контейнеру. Превышение этого лимита обычно приводит к завершению процесса контейнера из-за отсутствия памяти в ядре.
-   **soft** **limit** памяти указывают объем памяти, который контейнер должен использовать. Контейнеру разрешается использовать больше памяти при наличии свободного места. Он может быть завершен, если превысит мягкий лимит в условиях нехватки памяти.

Пример:
```bash
docker run --memory=512m --memory-reservation=256m my-app:latest
```

В docker-compose для ограничения использования ресурсов использовать такую конструкцию:

```yml
deploy:
  resources:
    limits:
      memory: 100M
```

