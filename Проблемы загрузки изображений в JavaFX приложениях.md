
# Проблемы загрузки изображений в JavaFX приложениях

Есть два основных вариантов при загрузке изображений в [[JavaFX]]:

```java
// вариант 1
Image image = new Image("file:image/scales.png");
// вариант 2
Image image = new Image(getClass().getResourceAsStream("/image/scales.png"));
```

Проблемы возникают с указанием путей к файлам. Первый вариант использует относительный путь, второй требует указания абсолютного пути.

Базовые правила:
Префикс `file:` означает, что путь указывает на файл в файловой системе;
Относительный путь строится относительно:
- Рабочей директории (откуда запущена программа);
- В IDE это обычно корень проекта;
- В JAR не работает (т.к. JAR - это архив).

Второй вариант предпочтительней, он работает и в IDE и при запуске JAR, но тут есть нюанс. Если [[Компиляция и запуск проекта с помощью CLI|скомпилировать]] проект и попытаться запустить скомпилированный класс, то приложение скорее всего упадёт с ошибкой. Чтобы предусмотреть универсальный способ загрузки изображения, можно в код добавить следующий универсальный метод загрузки изображений:

```java
private Image loadImage(String path){
    try {
	    // попытка загрузить как ресурс
        InputStream is = getClass().getResourceAsStream("/"+path);
        if(is != null)
            return new Image(is);
            
	    //  если в ресурсах нет, попытка загрузить как файл
        return new Image("file:"+path);
            
    } catch(Exception e){
        return null;
    }
}
```