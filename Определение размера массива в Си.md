
# Определение размера массива в Си

Массивы всегда имеют фиксированный размер. Компилятор в момент объявления массива может сам определять его размер. Пример:

```c
int arr[] = {10, 20, 23, 30, 40, 55, 60, 71, 89, 99};
// размер массива 10
```

Можно определить размер массива выполнив следующее:

```c
printf("%d\n", sizeof(arr) / sizeof(arr[0]));
```

>ВАЖНО: **`sizeof` — это не функция, а оператор времени компиляции.** Он работает на этапе компиляции, а не во время выполнения.

Другими словами, размер массива таким способом можно определить только на этапе компиляции. Тогда получится следующее (одно число 4 байта):

```c
sizeof(arr)           // компилятор заменяет на 40
sizeof(arr[0])        // компилятор заменяет на 4
sizeof(arr)/sizeof(arr[0]) // компилятор заменяет на 40/4 = 10
```

Если же передать массив как аргумент в функцию, то функция получит указатель на первый элемент массива и такой подход НЕ сработает:

```c
void func(int arr[]) {
    // Здесь компилятор НЕ ЗНАЕТ размер массива!
    // Он видит только указатель
    sizeof(arr);  // компилятор подставляет 8 (размер указателя)
}
```

В этом месте компилятор уже "забыл", что `arr` - массив. Для него это просто указатель.

**Коротко:** `sizeof(arr)` работает только там, где компилятор **видит определение массива**, а не просто объявление параметра.

#sizeof